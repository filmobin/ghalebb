function onloadCallback(){jQuery(".g-recaptcha").each((function(a,e){var s=jQuery(e).data("sitekey"),n=grecaptcha.render(e,{sitekey:s});jQuery(e).attr("data-widget-id",n)}))}function resetAllRecaptchas(){jQuery(".g-recaptcha").each((function(a,e){grecaptcha.reset(jQuery(e).attr("data-widget-id"))}))}jQuery(document).ready((function(a){var e;function s(){a("#dina-resend-code-btn").attr("aria-disabled","true").addClass("disabled");const s=parseInt(a("#dina-resend-code-btn").data("time"));clearInterval(e);const n=Date.now()+s;e=setInterval((()=>{const s=Date.now(),i=n-s;if(i>0){const e=`${Math.floor(i/1e3/60)}:${Math.floor(i%6e4/1e3)}`;a("#dina-code-timer").html(e)}else clearInterval(e),a("#dina-code-timer").html("").addClass("fal fa-sync"),a("#dina-resend-code-btn").removeAttr("aria-disabled").removeClass("disabled")}),500),a(".dina-otp-input").on("input",(function(){var e=!0;a(".dina-otp-input").each((function(){""===a(this).val()&&(e=!1)})),e&&a("#loginSendToken").click()}))}a(document).on("click",".dina-login-phone-btn",(function(e){a("#dina_login_form").removeClass("d-block").addClass("d-none"),a("#dina_sms_login_form").removeClass("d-none").addClass("d-block")})),a(document).on("click",".dina-login-email-btn",(function(e){a("#dina_login_form").removeClass("d-none").addClass("d-block"),a("#dina_sms_login_form").removeClass("d-block").addClass("d-none")})),a(document).on("click",".dina-show-login-form",(function(e){a(".dina-login-wrapper").removeClass("d-none").addClass("d-block"),a(".dina-register-wrapper").removeClass("d-block").addClass("d-none")})),a(document).on("click",".dina-show-register-form",(function(e){a(".dina-register-wrapper").removeClass("d-none").addClass("d-block"),a(".dina-login-wrapper").removeClass("d-block").addClass("d-none")})),a(document).on("submit","form#dina_login_form",(function(e){var s=a(this),n=s.find("input[name=redirect-to]").val();s.find("#loginSubmit").attr("aria-disabled","true").addClass("disabled"),s.find("#loginSubmit .fal").removeClass("fa-user").addClass("fa-spinner-third fa-spin"),s.find("div.status").removeClass((function(a,e){return(e.match(/(^|\s)woocommerce-\S+/g)||[]).join(" ")})),s.find("div.status").show().text(ajax_login_object.loadingmessage).addClass("woocommerce-info"),a.ajax({type:"POST",dataType:"json",url:ajax_login_object.ajaxurl,data:{action:"ajax_login_action",username:s.find("#username").val(),password:s.find("#password").val(),security:s.find("#ajax_login_elogin").val(),"g-recaptcha-response":s.find(".g-recaptcha-response").val()},success:function(a){s.find("div.status").removeClass((function(a,e){return(e.match(/(^|\s)woocommerce-\S+/g)||[]).join(" ")})),s.find("#loginSubmit").removeAttr("aria-disabled").removeClass("disabled"),s.find("#loginSubmit .fal").removeClass("fa-spinner-third fa-spin").addClass("fa-user"),s.find("div.status").text(a.message).addClass(a.class),1==a.success?document.location.href=n:resetAllRecaptchas()}}),e.preventDefault()})),a(document).on("submit","form#dina_register_form",(function(e){var n=a(this),i=n.find("input[name=redirect-to]").val(),t=n.parents(".dina-ajax-form-wrapper");n.find("#registerSubmit").attr("aria-disabled","true").addClass("disabled"),n.find("#registerSubmit .fal").removeClass("fa-user-plus").addClass("fa-spinner-third fa-spin"),n.find("div.status").removeClass((function(a,e){return(e.match(/(^|\s)woocommerce-\S+/g)||[]).join(" ")})),n.find("div.status").show().text(ajax_register_object.loadingmessage).addClass("woocommerce-info"),a.ajax({type:"POST",dataType:"json",url:ajax_register_object.ajaxurl,data:{action:"ajax_register_action",fname:n.find("#reg_fname").val(),redirecturl:i,lname:n.find("#reg_lname").val(),username:n.find("#reg_username").val(),password:n.find("#reg_password").val(),phonenumber:n.find("#reg_mobile_number").val(),email:n.find("#reg_email").val(),security:n.find("#ajax_register").val(),"g-recaptcha-response":n.find(".g-recaptcha-response").val()},success:function(e){n.find("div.status").removeClass((function(a,e){return(e.match(/(^|\s)woocommerce-\S+/g)||[]).join(" ")})),n.find("#registerSubmit").removeAttr("aria-disabled").removeClass("disabled"),n.find("#registerSubmit .fal").removeClass("fa-spinner-third fa-spin").addClass("fa-user-plus"),n.find("div.status").text(e.message).addClass(e.class),1==e.success&&""!=e.token_form?(a(".dina-login-wrapper").remove(),t.html(e.token_form)&&s()&&t.find("input[name='otp-code[]']:first").focus(),t.find("div.status").text(e.message).addClass(e.class)):1==e.success?document.location.href=i:resetAllRecaptchas()}}),e.preventDefault()})),a(document).on("submit","form#dina_sms_login_form",(function(e){var n=a(this),i=n.parents(".dina-ajax-form-wrapper");n.find("#loginSubmitMobile").attr("aria-disabled","true").addClass("disabled"),n.find("#loginSubmitMobile .fal").removeClass("fa-user").addClass("fa-spinner-third fa-spin"),n.find("div.status").removeClass((function(a,e){return(e.match(/(^|\s)woocommerce-\S+/g)||[]).join(" ")})),n.find("div.status").show().text(ajax_sms_login_object.loadingmessage).addClass("woocommerce-info"),a.ajax({type:"POST",dataType:"json",url:ajax_sms_login_object.ajaxurl,data:{action:"sms_ajax_login_action",phonenumber:n.find("#mobile_number").val(),redirecturl:n.find("input[name=redirect-to]").val(),security:n.find("#ajax_login_mlogin").val(),"g-recaptcha-response":n.find(".g-recaptcha-response").val()},success:function(a){n.find("div.status").removeClass((function(a,e){return(e.match(/(^|\s)woocommerce-\S+/g)||[]).join(" ")})),n.find("#loginSubmitMobile").removeAttr("aria-disabled").removeClass("disabled"),n.find("#loginSubmitMobile .fal").removeClass("fa-spinner-third fa-spin").addClass("fa-user"),n.find("div.status").text(a.message).addClass(a.class),1==a.success?i.html(a.token_form)&&i.find("div.status").text(a.message).addClass(a.class)&&i.find("input[name='otp-code[]']:first").focus()&&s():resetAllRecaptchas()}}),e.preventDefault()})),a(document).on("submit","form#dina_sms_token_form",(function(e){var s=a(this),n=s.find("input[name=redirect-to]").val(),i=s.find("input[name='otp-code[]']").map((function(){return s.find(this).val()})).get();s.find("#loginSendToken").attr("aria-disabled","true").addClass("disabled"),s.find("#loginSendToken .fal").removeClass("fa-user").addClass("fa-spinner-third fa-spin"),s.find("div.status").removeClass((function(a,e){return(e.match(/(^|\s)woocommerce-\S+/g)||[]).join(" ")})),s.find("div.status").show().text(ajax_sms_token_object.loadingmessage).addClass("woocommerce-info"),a.ajax({type:"POST",dataType:"json",url:ajax_sms_token_object.ajaxurl,data:{action:"sms_ajax_token_action",token:i,userid:s.find("input[name=user_id]").val(),phonenumber:s.find("input[name=phone_number]").val(),security:s.find("#ajax_login_token").val()},success:function(a){s.find("div.status").removeClass((function(a,e){return(e.match(/(^|\s)woocommerce-\S+/g)||[]).join(" ")})),s.find("#loginSendToken").removeAttr("aria-disabled").removeClass("disabled"),s.find("#loginSendToken .fal").removeClass("fa-spinner-third fa-spin").addClass("fa-user"),s.find(".dina-otp-input").removeClass("is-valid is-invalid").addClass(a.inputclass),s.find("div.status").text(a.message).addClass(a.class),1==a.success?document.location.href=n:s.find("input[name='otp-code[]']").val("")&&s.find("input[name='otp-code[]']:first").focus()}}),e.preventDefault()})),a(document).on("click","#dina-resend-code-btn:not(.disabled)",(function(e){var n=a(this),i=n.parents("form");a(".dina-otp-input").val(""),i.find("input[name='otp-code[]']:first").focus(),n.attr("aria-disabled","true").addClass("disabled"),n.find("span").removeClass("fal fa-sync").addClass("fal fa-spinner-third fa-spin"),i.find("div.status").removeClass((function(a,e){return(e.match(/(^|\s)woocommerce-\S+/g)||[]).join(" ")})),i.find("div.status").show().text(ajax_resend_token_object.loadingmessage).addClass("woocommerce-info"),a.ajax({type:"POST",dataType:"json",url:ajax_resend_token_object.ajaxurl,data:{action:"resend_ajax_token_action",userid:i.find("input[name=user_id]").val(),security:i.find("#ajax_login_token").val()},success:function(a){i.find("div.status").removeClass((function(a,e){return(e.match(/(^|\s)woocommerce-\S+/g)||[]).join(" ")})),n.find("span").removeClass("fal fa-spinner-third fa-spin"),i.find("div.status").text(a.message).addClass(a.class),s()}}),e.preventDefault()}))}));